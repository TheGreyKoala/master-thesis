\section{Webseiten im World Wide Web}
    \label{section:problemAnalysisWebpagesInTheWWW}
    Eine Betrachtung der Problemdomäne ist für den weiteren
    Verlauf dieser Arbeit notwendig,
    um Grundlagen zu vermitteln und spätere Erläuterungen
    in einen größeren Kontext zu setzen.
    Das trägt zu einem besseren Verständnis der Problemstellung
    und damit zur Findung einer geeigneten Lösung bei.

    Die in diesem Fall zu betrachtende Domäne ist "`Webseiten"'.
    Webseiten gehören zum \gls{www}, weshalb auch dessen Konzepte zur Betrachtung der Domäne gehören.
    Die folgenden Erläuterungen umfassen aber bewusst nicht jeden einzelnen Aspekt der Domäne,
    sondern beschränken sich auf grundlegende und für diese Arbeit relevante Teile.
    Im Fokus der Betrachtung stehen die technischen und konzeptionellen Grundlagen.

    \subsection{Das World Wide Web}
        Das \gls{w3c} definiert den Begriff "`World Wide Web"' in \cite{w3c:wwwArch} wie folgt:

        \begin{quote}
            The \textit{\textbf{World Wide Web}} (\textit{\textbf{WWW}}, or simply \textit{\textbf{Web}})
            is an information space in which the items of interest, referred to as resources,
            are identified by global identifiers called Uniform Resource Identifiers (\textit{\textbf{URI}}).
        \end{quote}

        Darüber hinaus nennt \cite{w3c:wwwArch} die drei grundlegenden Komponenten des \glspl{www}:

        \begin{quote}
            They are identification of resources,
            representation of resource state, and the protocols
            that support the interaction between agents and resources in the space.
        \end{quote}

    \subsection{{\resources} im World Wide Web}
        Aus der obigen Definition wird deutlich,
        dass das \gls{www} nicht ausschließlich zur Nutzung von Webseiten
        vorgesehen ist.
        Stattdessen können über das \gls{www} jede Art von {\resources} bezogen werden.
        Neben Webseiten gehören dazu unter anderem auch einfache Textdateien
        und Binärdateien wie zum Beispiel PDFs, Audio- oder Videodateien.
        Die Beschreibung des \glspl{w3c} stellt außerdem klar,
        dass jede {\resource} im \gls{www} eindeutig über einen \gls{uri} identifiziert wird.
        Im Fall von Webseiten geschieht dies oftmals über \glspl{url},
        die eine Teilmenge von \glspl{uri} darstellen
        \cite[Kapitel 1.1.3, Seite 7]{rfc:3986}.

    \subsection{Interaktion mit dem World Wide Web}
        Um {\resources} im \gls{www} anzusprechen existieren verschiedene Werkzeuge.
        Das \gls{w3c} bezeichnet jedes von ihnen als
        "`Web agent"' und beschreibt diese Rolle wie folgt:
        "`A person or a piece of software acting on the information
        space on behalf of a person, entity, or process."' \cite[Kapitel 6]{w3c:wwwArch}.
        Eine Spezialisierung stellen die sogenannten "`User agents"' dar,
        die das \gls{w3c} als "`One type of Web agent;
        a piece of software acting on behalf of a person."' beschreibt \cite[Kapitel 6]{w3c:wwwArch}.
        Webbrowser sind User agents, aber zum Beispiel auch Kommandozeilenprogramme
        wie curl\footnote{https://curl.haxx.se/}.
        Ihre persönliche Kennung halten User Agents zum Beispiel im
        HTTP-Header "`User-Agent"' fest \cite[Kapitel 5.5.3, Seite 46]{rfc:7231}.

        Der Prozess, bei dem ein Agent über eine \gls{uri} auf eine {\resource}
        zugreift heißt "`Dereferencing the URI"' \cite[Kapitel 3.1]{w3c:wwwArch}.
        Wie dieser Prozess aussieht hängt von der Funktion des User Agents und der \gls{uri} ab
        \cite[Kapitel 3.1]{w3c:wwwArch}.
        Die Funktion eines User Agents könnte beispielsweise das Abrufen einer
        Repräsentation der {\resource} vorsehen, wohingegen ein anderer Agent
        lediglich prüft, ob eine eben solche Repräsentation existiert.

        Das Schema einer \gls{uri} beschreibt laut Spezifikation
        lediglich, wie die folgende Kennung zu interpretieren ist
        \cite[Kapitel 3.1, Seite 17]{rfc:3986}.
        Viele Schemata sind allerdings nach Protokollen benannt,
        weshalb sie in der Praxis häufig bestimmen,
        wie User Agents auf eine {\resource} zugreifen können
        \cite[Kapitel 3.1]{w3c:wwwArch}.
        
        Schemata, die im \gls{www} häufig Anwendung finden,
        sind zum Beispiel
        http\footnote{\url{https://tools.ietf.org/html/rfc7230\#section-2.7.1}},
        https\footnote{\url{https://tools.ietf.org/html/rfc7230\#section-2.7.2}},
        mailto\footnote{\url{https://tools.ietf.org/html/rfc6068}} und
        data\footnote{\url{https://tools.ietf.org/html/rfc2397}}.
        Für Webseiten sind dabei vor allem http und https
        und die gleichnamigen Protokolle von Bedeutung,
        da \glspl{url} von Webseiten diese vorrangig verwenden.

        Wenn ein Webbrowser oder ein anderer Agent eine Webseite aufruft,
        bedeutet dies allgemein gesprochen, dass der Agent eine Repräsentation
        einer {\resource} anfragt, die er über eine \gls{url} spezifiziert.
        Konkret richtet er diese Anfrage an einen Server,
        wozu er das Protokoll HTTP(S)\footnote{\url{https://tools.ietf.org/html/rfc7231}} und die Methode
        GET\footnote{\url{https://tools.ietf.org/html/rfc7231\#section-4.3.1}} verwendet.

        Falls der Server den \gls{url} der Anfrage auflösen kann,
        antwortet er auf die Anfrage mit der Repräsentation der Webseite,
        die im nächsten Abschnitt behandelt wird.
        Der Browser übernimmt dann das Rendering der Seite und die Ausführung
        von eingebetteten Skripten.

        \subsection{Repräsentation einer Webseite}
            Webseiten sind Dokumente, die die Auszeichnungssprache \gls{html} verwenden,
            die aktuell in der Version 5 vorliegt \cite{w3c:html5}.
            Bis zur Version 3.2 war \gls{html} eine Implementierung der Metasprache SGML \cite[Kapitel 3]{w3c:html401}.
            Zusammen mit der Version 4 wurde eine Ausprägung spezifiziert,
            die \gls{html} in eine Implementierung der Sprache XML überführte,
            die den Namen XHTML erhielt \cite{w3c:xhtml}.
            \gls{html}5 definiert eine abstrakte Sprache
            die sowohl mit \gls{html}- als auch mit XML-Syntax genutzt werden kann
            \cite[Kapitel 1.6]{w3c:html5}.
            Einem Agent kann über den MIME-Type mitgeteilt werden,
            ob ein Dokument \gls{html}- oder XML-Syntax verwendet \cite[Kapitel 1.6]{w3c:html5}.
            Diese Angabe ist wichtig, da XML-Syntax restriktiver als \gls{html}-Syntax ist.
            Der \gls{html}-Syntax erfordert zum Beispiel nicht,
            dass alle öffnenden Tags auch einen schließenden Gegenpart besitzen
            \cite[Kapitel 3.2.3]{w3c:html5}.

            \gls{html}-Dokumente bestehen in beiden Syntaxvarianten aus verschachtelten
            Elementen, die in 10 Kategorien eingeteilt werden \cite[Kapitel 4]{w3c:html5}.
            Diese sind in Tabelle \ref{table:htmlElements} inkl. einiger Vertreter aufgelistet.

            \begin{table}[h]
                \centering
                \begin{tabular}{|l|l|}
                \hline
                \textbf{Kategorie} & \textbf{Elemente (Auswahl)} \\
                \hline
                Das Wurzelelement & html \\
                \hline
                Metadaten des Dokumentes & head, title, style \\
                \hline
                Absätze & body, article, section \\
                \hline
                Gruppierungen & p, ul, div \\
                \hline
                Semantische Kennzeichnung von Text & a, strong, code \\
                \hline
                Kennzeichnung von Textänderungen & ins, del \\
                \hline
                Eingebetteter Inhalt & img, iframe, object \\
                \hline
                Tabellenelemente & table, tr, td \\
                \hline
                Formulare & form, input, button \\
                \hline
                Skripte & script, canvas \\
                \hline
                \end{tabular}
                \caption{\gls{html} Elemente}
                \label{table:htmlElements}
            \end{table}

            Die verschiedenen Elemente geben ihren Inhalten eine semantische Bedeutung.
            Text in einem \texttt{h1}-Element wird von einem Webbrowser zum Beispiel in die Anzeige gerendert
            \cite[Kapitel 4.3.6]{w3c:html5},
            wohingegen er in einem \texttt{script}-Element als Code interpretiert und ausgeführt wird
            \cite[Kapitel 4.11.1]{w3c:html5}.
        
            Eine Besonderheit von \gls{html} ist die Möglichkeit
            über verschiedene Elemente andere {\resources} des \gls{www} zu referenzieren,
            wodurch ein gerichtetes, potentiell zyklisches Netzwerk entsteht.
            Beispiele für häufig in Webseiten referenzierte {\resources}
            sind andere Webseiten, Skripte, CSS-Dateien, Bilder und Videos.
            Zur Referenzierung dieser Beispiele dienen die \gls{html}-Elemente
            \texttt{a}, \texttt{script}, \texttt{link}, \texttt{img}, und \texttt{video},
            die wiederum gleichzeitig auch die Semantik der Referenz festlegen.
            Dadurch kann zum Beispiel ein Bild sowohl über das \texttt{img}-
            als auch das \texttt{a}-Element referenziert werden.
            Im ersten Fall wird ein Webbrowser das Bild direkt in die Anzeige rendern,
            wohingegen er im zweiten Fall nur einen klickbaren Link auf das Bild darstellt.

        \subsection{Trennung der Zuständigkeiten in einer Webseite}
            Die Trennung der Zuständigkeiten\footcite[vgl.][]{huersch:SeparationOfConcerns}
            ist ein allgegenwärtiges Konzept der Informatik.
            Im Sinne dieses Konzeptes existieren im Kontext von Webseiten
            drei Belange, die es zu trennen gilt:

            \begin{enumerate}
                \item Struktur und Inhalt
                \item Darstellung
                \item Funktionalität
            \end{enumerate}

            Der Inhalt einer Seite ist in den \gls{html}-Elementen enthalten,
            deren Hierarchie darüber hinaus die Struktur der Seite bestimmt.
            
            Das Aussehen einer Seite wird hingegen über \gls{css} festgelegt \cite{w3c:css}.
            Dabei handelt es sich um "`[...] eine Sprache zur Beschreibung des Renderings
            von strukturierten Dokumenten (wie HTML und XML) auf Bildschirmen, auf Papier,
            in Sprache, etc."' \cite{w3c:css}.
            Zu diesem Zweck werden mit \gls{css} Regeln definiert,
            die einer Menge von \gls{html}-Elementen Eigenschaften in der Darstellung (Styles) zuweisen
            \cite{w3c:cssSyntax}.
            Diese Menge von Elementen wird wiederum über Selektoren festgelegt,
            mit denen sich verschiedene Eigenschaften der auszuwählenden Nodes beschreiben lassen
            \cite{w3c:cssSelectors}.
            Falls zwei Regeln dasselbe Element ansprechen,
            werden die Styles beider Regeln zusammengefasst
            \cite{w3c:cssCascading}.
            Überschneidungen in den Styles werden in diesem Fall anhand der Selektoren der betroffenen Regeln aufgelöst.
            Verschiedene Selektoren sprechen einzelne Elemente nämlich verschieden stark an.
            Bezogen auf das betroffene Element lässt sich dadurch eine Priorität festlegen,
            bei der eine Regel mit starkem Selektor Vorrang vor einer Regel mit schwachem Selektor hat
            \cite{w3c:cssSelectors}. 
            Wichtig zu beachten ist, dass \gls{css} die angewandten Styles eines Elementes auf alle Unterelemente vererbt.
            Diese können Styles allerdings explizit überschreiben
            \cite{w3c:cssCascading}.
            Auf den verbliebenen Aspekt "`Funktionalität"' geht der folgende Abschnitt ein.

        \subsection{Dynamische Webseiten}
            Komplexe Webanwendungen sind auf die Möglichkeit angewiesen Geschäftslogik auszuführen.
            Dafür kommen sowohl der Webserver als auch der User Agent infrage.

            Der Server kann zur Bearbeitung einer Anfrage mit dem Inhalt einer Datei auf seinem Dateisystem antworten.
            Dies können zum Beispiel eine \gls{html}-Datei oder ein Bild sein.
            In diesem Fall spricht man von statischen Inhalten.
            Wie eingangs erwähnt ist es ist allerdings auch möglich,
            dass eine Webanwendung serverseitig Geschäftslogik zur Bearbeitung einer Anfrage ausführt.
            Die Antwort an den Client kann in diesem Fall weiterhin statisch oder
            durch die Webanwendung generiert worden sein.
            Im letzten Fall spricht man von dynamisch generierten bzw. erzeugten Inhalten.

            Ein \gls{html}-Dokument kann in script-Elementen ebenfalls Logik enthalten
            \cite[Kapitel 4.11]{w3c:html5},
            zu deren Formulierung Entwickler häufig die Skriptsprache JavaScript verwenden,
            wobei es sich um eine Implementierung des Sprachstandards ECMAScript handelt
            \cite{ecma:ecmaScript}.
            Nicht der Server, sondern der anfragende User Agent führt diese Logik aus.
            Dabei handelt es sich generell um einen Browser.
            Es existieren verschiedene Programmierschnittstellen,
            die neben vielen anderen Funktionen, zum Beispiel die Möglichkeit bieten,
            Elemente zu manipulieren, auf Nutzerinteraktion zu reagieren
            oder asynchrone HTTP-Anfragen zu starten \cite[Kapitel 8]{whatwg:html}\cite{whatwg:xhr}.
            Falls eine Webseite solche clientseitigen Mittel verwendet,
            wird sie oft als dynamsiche Seite bezeichnet.
            
            Client- und serverseitige Programmteile funktionieren oftmals Hand in Hand,
            wie das folgende Beispiel illustriert:
            Ein Nutzer klickt auf eine Schaltfläche in einer Webseite.
            Dadurch wird eine JavaScript-Funktion aktiviert,
            die eine asynchrone HTTP-Anfrage an einen Webserver schickt.
            Aufgrund dieser Anfrage führt der Server Geschäftslogik aus
            und generiert auf Basis des Ergebnisses ein \gls{html}-Fragment,
            welches er in seine Antwort schreibt.
            Der Empfang der Antwort löst im Browser die Ausführung einer weiteren
            JavaScript-Funktion aus, die das empfangene \gls{html}-Fragment
            an eine definierte Stelle der Webseite einfügt,
            wodurch es dem Nutzer sichtbar wird.
            Der konzeptionelle Ablauf in diesem Szenario sowie die verwendeten Mittel
            werden unter dem Begriff \gls{ajax} zusammengefasst \cite{garrett:ajax}.

        \subsection{Websites}
            Der Internetauftritt einer Organisation besteht selten aus einer
            einzelnen Webseite.
            Stattdessen besteht er aus vielen Webseiten,
            die untereinander verlinkt sind und von der jede einen eigenen
            \gls{url} besitzt.
            Neben "`Internetauftritt"' hat sich der Begriff "`Website"' zur
            Referenzierung dieser Gesamtheit aller Webseiten einer Organisation
            etabliert \cite{duden:Internetauftritt, oxford:Website}.